<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Download — Interview Assistant</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#071026;
      --panel:#071827;
      --muted:#9fb2d0;
      --accent1:#60a5fa;
      --accent2:#5eead4;
      --glass: rgba(255,255,255,0.03);
      --radius:14px;
      --max-width:980px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; padding:26px; font-family:"Inter",system-ui,Segoe UI,Roboto,Arial;
      background: linear-gradient(180deg, rgba(9,20,37,0.6), rgba(4,10,18,0.95)), var(--bg);
      color:#e8f4ff; display:flex; justify-content:center;
    }
    .wrap{width:100%; max-width:var(--max-width)}
    header{display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:18px}
    .brand{display:flex; gap:12px; align-items:center; text-decoration:none; color:inherit}
    .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:grid;place-items:center;font-weight:700;color:#012}
    nav a{color:var(--muted); text-decoration:none; padding:8px 10px; border-radius:10px}
    nav a:hover{color:#fff}

    .hero{padding:18px; border-radius:var(--radius); background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); box-shadow:0 8px 32px rgba(0,0,0,0.6);}
    .hero h1{margin:0 0 6px 0}
    .hero p{margin:0;color:var(--muted)}

    .grid{display:grid; gap:14px; margin-top:18px}
    @media(min-width:880px){
      .grid{grid-template-columns: 1fr 360px; align-items:start}
    }

    .downloads{
      display:grid; gap:12px;
    }

    .download-card{
      background:linear-gradient(180deg, rgba(255,255,255,0.015), transparent);
      border:1px solid rgba(255,255,255,0.03);
      padding:14px; border-radius:12px; display:flex; gap:12px; align-items:center;
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .download-card:hover{ transform: translateY(-6px); box-shadow:0 18px 50px rgba(2,6,23,0.6) }

    .icon{
      width:64px; height:64px; border-radius:12px; display:grid; place-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      flex:0 0 64px;
    }

    .meta{flex:1}
    .meta h3{margin:0 0 6px 0}
    .meta p{margin:0; color:var(--muted); font-size:13px}

    .actions{display:flex; gap:8px; align-items:center}
    .download-btn{
      background:linear-gradient(90deg,var(--accent2),var(--accent1));
      color:#012; padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:700;
      display:inline-flex; gap:8px; align-items:center;
    }
    .info{font-size:13px; color:var(--muted); margin-top:8px}

    aside.card{
      padding:14px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); border:1px solid rgba(255,255,255,0.02)
    }

    /* recommended badge */
    .recommended{display:inline-block;background:rgba(90,255,200,0.08); color:#bfffdc; padding:6px 8px; border-radius:8px; font-weight:700; font-size:13px}

    /* copy button */
    .copy-btn{background:transparent;border:1px solid rgba(255,255,255,0.04); color:var(--muted); padding:6px 8px;border-radius:8px; cursor:pointer}
    .copy-btn:active{transform:translateY(1px)}

    footer{margin-top:22px; color:var(--muted); display:flex; justify-content:space-between;flex-wrap:wrap; gap:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <a class="brand" href="{{ url_for('home') }}">
        <div class="logo">IA</div>
        <div>
          <div style="font-weight:700">Interview Assistant</div>
          <div style="font-size:12px;color:var(--muted)">Download & install</div>
        </div>
      </a>

      <nav>
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('download') }}">Download</a>
      
      </nav>
    </header>

    <main>
      <section class="hero">
        <h1>Get the app for your platform</h1>
        <p>Choose your operating system. You will need a license/password provided by your admin to run the app.</p>
      </section>

      <div class="grid">
        <div>
          <div class="downloads">
            <div class="download-card" id="card-windows">
              <div class="icon" aria-hidden>
                <svg width="36" height="36" viewBox="0 0 24 24" fill="none" aria-hidden>
                  <path d="M3 3.5l8.5-1.5v8.5H3zM12 2l9-2v10.5L12 12zM3 13.5l8.5 1.5V23L3 21.5zM12 12l9.5-1.5V23L12 21z" fill="#60a5fa" opacity="0.95"/>
                </svg>
              </div>
              <div class="meta">
                <h3>Windows — .exe</h3>
                <p>One-file installer optimized for speed. Recommended for Windows 10/11.</p>
                <div class="info">Version: <strong id="ver-win">v1.0.0</strong> · Size: ~28 MB</div>
                <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
                  <a id="dl-win" class="download-btn" href="{{ url_for('static', filename='assets/InterviewAssistant.exe') }}" download>⬇️ Download .exe</a>
                  <span class="recommended" id="rec-win" style="display:none">Recommended</span>
                </div>
                <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
                  <code id="sum-win" style="font-size:13px; color:var(--muted);">SHA256: <span id="sha-win">REPLACE_WITH_SHA256</span></code>
                  <button class="copy-btn" data-target="sha-win">Copy</button>
                </div>
              </div>
            </div>

            <div class="download-card" id="card-mac">
              <div class="icon" aria-hidden>
                <svg width="36" height="36" viewBox="0 0 24 24" fill="none" aria-hidden>
                  <path d="M16 2.5c0 1.1-.4 2-1 2.8-.6.8-1.7 1.6-2.9 1.6-1.3 0-2.4-.8-3-1.6-.6-.8-1-1.8-1-2.8C8 1.6 9.2 0 11.2 0c1.6 0 2.9 1.2 3.4 2.3.6 1.1 1.4 2.2 1.4 0.2z" fill="#5eead4"/>
                  <rect x="2" y="8" width="20" height="14" rx="3" fill="#60a5fa"/>
                </svg>
              </div>
              <div class="meta">
                <h3>macOS — .app </h3>
                <p>macOS bundle (.app).</p>
                <div class="info">Version: <strong id="ver-mac">v1.0.0</strong> · Size: ~30 MB</div>

                <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
                  <a id="dl-mac" class="download-btn" href="{{ url_for('static', filename='assets/InterviewAssistant.app') }}" download>⬇️ Download .app</a>
                </div>

                <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
                  <code id="sum-mac" style="font-size:13px; color:var(--muted);">SHA256: <span id="sha-mac">REPLACE_WITH_SHA256</span></code>
                  <button class="copy-btn" data-target="sha-mac">Copy</button>
                </div>
              </div>
            </div>

          </div>
        </div>

        <aside class="card">
          <h3>Notes before you install</h3>
          <ul style="color:var(--muted); margin-top:6px; padding-left:18px;">
            <li>After installation, launch the app and log in with the password/license provided by your admin.</li>
            <li>Licenses are validated by the Flask server and enforced for expiry.</li>
            <li>ffmpeg bundled or available on PATH improves latency and reduces upload size; otherwise WAV fallback is used.</li>
          </ul>
        </aside>
      </div>

      <footer>
        <div>© <span id="yr"></span> Interview Assistant</div>
        <div style="color:var(--muted)">Login/password required — contact your admin</div>
      </footer>
    </main>
  </div>

  <script>
    // small helpers: copy checksum
    document.querySelectorAll('.copy-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const id = btn.dataset.target;
        const el = document.getElementById(id);
        if(!el) return;
        const text = el.textContent.trim();
        navigator.clipboard?.writeText(text).then(()=>{
          btn.textContent = "Copied";
          setTimeout(()=>btn.textContent="Copy",1200);
        }).catch(()=>{
          alert("Copy not supported; please select and copy manually.");
        });
      });
    });

    // highlight recommended download based on platform
    (function highlight(){
      const platform = navigator.platform || navigator.userAgent;
      const win = /Win/i.test(platform) || /Windows/i.test(navigator.userAgent);
      const mac = /Mac/i.test(platform) || /Macintosh/i.test(navigator.userAgent) || /Mac OS X/i.test(navigator.userAgent);
      if(win){
        document.getElementById('rec-win').style.display='inline-block';
        document.getElementById('card-windows').scrollIntoView({behavior:'smooth', block:'center'});
      } else if(mac){
        document.getElementById('rec-win').style.display='none';
      }
      document.getElementById('yr').textContent = new Date().getFullYear();
    })();
  </script>
</body>
</html>
